(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},24:function(e,t,n){e.exports=n(64)},29:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(10),r=n.n(i),s=(n(29),n(4)),l=n(5),c=n(7),u=n(6),d=n(8),g=n(23),h=n(1),m=n(11),p={width:"100%",height:"100%"},f=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onMarkerClick=function(e,t,o){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},n.onClose=function(e){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},n.state={markers:n.props.markers,showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},n.onMarkerClick=n.onMarkerClick.bind(Object(h.a)(Object(h.a)(n))),n.onMarkerClick=n.onMarkerClick.bind(Object(h.a)(Object(h.a)(n))),n.onClose=n.onClose.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),console.log(this.state)}},{key:"render",value:function(){var e=this;return a.a.createElement(m.Map,{google:this.props.google,zoom:14,style:p,initialCenter:{lat:this.props.position.lat,lng:this.props.position.lng}},this.props.markers.map(function(t,n){return a.a.createElement(m.Marker,{ref:t.venue.id,position:{lat:t.venue.location.lat,lng:t.venue.location.lng},key:n,title:t.venue.name,onClick:e.onMarkerClick,name:t.venu})}),a.a.createElement(m.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},a.a.createElement("div",null,a.a.createElement("h4",null,this.state.selectedPlace.name))))}}]),t}(o.Component),v=Object(m.GoogleApiWrapper)({apiKey:"AIzaSyAxEHaeEZu0J6psDIhMBHEnwJ77jcxQoK0"})(f),b=n(21),w=n.n(b),k=n(22),O=n.n(k),E=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getVenues=function(){console.log(n.param),w.a.get(n.apiURL+new URLSearchParams(n.param)).then(function(e){n.setState({venues:e.data.response.groups[0].items,filteredVenues:e.data.response.groups[0].items},null)}).catch(function(e){console.log("ERROR!! "+e)})},n.getGeoLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){console.log(e.coords),n.setState(function(t){return{currentLatLng:Object(g.a)({},t.currentLatLng,{lat:e.coords.latitude,lng:e.coords.longitude})}}),n.param.ll=e.coords.latitude+","+e.coords.longitude,n.getVenues()}):console.log("error")},n.state={menuOpen:!1,venues:[],filteredVenues:[],noResults:!1,currentLatLng:{lat:0,lng:0}},n.param={client_id:"1CPFL1RI135SHQNHOTCT2HYAAXV3LK0SHR1RCIBVWOHMLZOF",client_secret:"U5G4FEDYVEAHXJH3BSYYGNGPYTK1JKSNQVU3RPWRGHSYN3PV",query:"food",ll:n.state.currentLatLng.lat+","+n.state.currentLatLng.lng,v:"20190126"},n.apiURL="https://api.foursquare.com/v2/venues/explore?",n.toggleMenu=n.toggleMenu.bind(Object(h.a)(Object(h.a)(n))),n.filterVenues=n.filterVenues.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getGeoLocation()}},{key:"toggleMenu",value:function(){this.setState(function(e){return{menuOpen:!e.menuOpen}}),console.log(this.state)}},{key:"filterVenues",value:function(e){this.setState({filteredVenues:[]},null);var t=[];this.state.venues.forEach(function(n){n.venue.name.toLowerCase().includes(e.target.value.toLowerCase())&&t.push(n)}),0===t.length?this.setState({filteredVenues:t,noResults:!0},null):this.setState({filteredVenues:t,noResults:!1},null)}},{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:this.state.menuOpen?"side-menu open":"side-menu"},a.a.createElement("input",{type:"text",onChange:this.filterVenues,placeholder:"filter"}),this.state.noResults?a.a.createElement("div",{className:"no-results"}," No results found "):null,a.a.createElement("div",{className:"side-menu-items"},this.state.filteredVenues.map(function(e,t){return a.a.createElement("div",{key:t,className:"side-menu-item"},e.venue.name)}))),a.a.createElement("main",{className:this.state.menuOpen?"open":""},a.a.createElement("header",null,a.a.createElement("div",{id:"nav-icon4",onClick:this.toggleMenu,className:this.state.menuOpen?"open":""},a.a.createElement("span",null),a.a.createElement("span",null),a.a.createElement("span",null)),"Neighborhood Map React"),a.a.createElement("section",null,this.state.filteredVenues.length>0?a.a.createElement(v,{markers:this.state.filteredVenues,position:this.state.currentLatLng}):a.a.createElement("div",{className:"loading-div"},a.a.createElement("div",{className:"text"},"Loading"),a.a.createElement("img",{src:O.a,className:"App-logo",alt:"logo"})))))}}]),t}(o.Component),j=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(E,null)}}]),t}(o.Component),C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(j,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/neighborhood-map-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/neighborhood-map-react","/service-worker.js");C?(function(e,t){fetch(e).then(function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):L(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):L(t,e)})}}()}},[[24,2,1]]]);
//# sourceMappingURL=main.9d4282c8.chunk.js.map